language: node_js
node_js:
- '8'
- stable
- lts/*
os:
- linux
- osx
- windows
matrix:
  exclude:
  - os: windows
    node_js: stable
after_success: npm run coverage
jobs:
  include:
  - stage: npm publish
    node_js: lts/*
    os: linux
    script: echo deploy to npm
    deploy:
      provider: npm
      email: sogo@longtail-software.co.jp
      api_key:
        secure: VshdljyUZl4xunxhKIOK3TQV58Xw6/i6zLGRQqcgLBXtL3D91yxSrEh9KcPso7JUFy5MLWRH48P6TyxGKeBQA+Gca1uk3c/pUOx9dnbMBFlG/NGSMVh19KznOuh2QL3hkhegaiF8ohsNR+mi698z5RY7MKflPnGjS1BTF7aM22/qq+zDx3kT7sCYXhf5HCIkAY/pSS9Haq+wrY+zBUB9B02HNf9Vjwzk5+bnq+FPEPq6WZv0cI16KqX1sTjMRFi2BpXtfa9XVfsx9YnM2L0UhU/E1oYz4e4AqTQdEk8zb3x+V5qhvQGuVvfK6XR2Blz2bERM45d8a2MyHJfE7BSYoaE3gf+kSPZpi/5XocDA9mY6unHbBDkafEsqdCN1i0xlT3RFT3AgOlYaLcrMrenWMqDXhGPfmqxuCzXkdA6OEy/Aw4I+RifEr/Me7qPkjc7F943Hb3f4PV3KB0kmETXo92JdcGktVFRvWXMcCd6rIVPSTsm1ks9PtKO3XsUeYCVguMEgJ4DeUQ2OdKESJXMcsULvQjwaeWTWhEIRMdX0XHXHVIWb5205KVM7ogmp2DBKv0m5sH1bfBK/69hdaCcoMZKdZr9yjd4yJSMVG5SC0nWzmg98KLUSIQhu/1gZB/lzE1FWDR0XHA4tFX5laeIFdM5n3bSyLHFbpcPsLo4G2ZM=
      on:
        tags: true
      skip_cleanup: true
notifications:
  mail: false
  slack:
    secure: GlTFpA33vm8waeJKwuswmDI0jciB3KA++hXTPsjLKTef0DU6koqp1OIpLCqtg4d6z1FmsrHCrSHU/u/NwAZ/PxmyZr1CiOnwicgIhLcds+lWetRkDUTaiIRdTy4Of2LAHVPtWR2/MUxuP38BcnbXZjpydxhDnIPLcuIk5tZ1hVdCupyUSMU9+oKZ8C32bo03V7TvkpdGLIW8CIr0nZ8PXRs+w8QS4Z5ZVoXoOb9+nX5uGejub2+iugLSS7dsiYwRHxoqQuIa8haveh3KPhTGGD/ClpHZs/1xgGpzo1IUErohkRJ2gJK4GvvCpIk43QxLxC6ugKr1OJK0AvnjbpfTBTk1x3T42eWK9JZj7vEAI6pETXVMfOTE1jHbFdMPSdoVsC2Dmkqf48sIZVZom+Ls+UljRpq9AHRma8q0YvQ/VPq19EBWv3kP6XWkFmZYmm/VZC4rUcLQQp13TX+BYetSn/KM/GZchgGWTYy95X3dcFq1jzRhKfvcgKiuNfr8VO1f918QZMhGlx3yMWLe2ri+QhjUXSlklrXMuLr63FqmudoHLiLC4o04ob2glvNVErNC8ZWlm/OU93zpKpc/pYITUSf1nnd461fmhDH/GHA/afiweb/lhMbWX6TzwXYVT+5wuD+X6qDwmEYvvD9iST+iUCF32xXYS0mJbQXstXBXoL8=
